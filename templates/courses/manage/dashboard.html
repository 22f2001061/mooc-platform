{% extends "courses/manage/base.html" %}

{% block title %}Course Management{% endblock %}
{% block nav_dashboard %}active{% endblock %}

{% block manage_content %}
<div class="manage-header">
  <h1>Course Management</h1>
  <a href="{% url 'courses:manage_course_create' %}" class="btn-primary">+ New Course</a>
</div>

{% if courses %}
  <div class="manage-table-wrap">
    <table class="manage-table">
      <thead>
        <tr>
          <th>Title</th>
          <th>Lessons</th>
          <th>Created</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for course in courses %}
          <tr>
            <td>
              <a href="{% url 'courses:manage_course_detail' course.pk %}" class="table-link">
                {{ course.title }}
              </a>
            </td>
            <td>
              <span class="badge">{{ course.lessons.count }}</span>
            </td>
            <td class="muted">{{ course.created_at|date:"M j, Y" }}</td>
            <td class="table-actions">
              <a href="{% url 'courses:manage_course_detail' course.pk %}">Manage</a>
              <a href="{% url 'courses:manage_course_edit' course.pk %}">Edit</a>
              <a href="{% url 'courses:detail' course.pk %}" target="_blank">Preview â†—</a>
              <a href="{% url 'courses:manage_course_delete' course.pk %}" class="danger-link">Delete</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <div class="empty-state">
    <p>No courses yet.</p>
    <a href="{% url 'courses:manage_course_create' %}" class="btn-primary">Create your first course</a>
  </div>
{% endif %}
{% endblock %}
